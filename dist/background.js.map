{"version":3,"file":"background.js","sources":["../src/background.ts"],"sourcesContent":["/**\n * YouTube Tab-Fullscreen Extension - Background Script\n * Handles keyboard shortcuts and commands\n */\n\n// Listen for keyboard commands from the manifest\nchrome.commands.onCommand.addListener(async (command: string) => {\n  console.log('[YT-TabFS Background] Command received:', command);\n  \n  if (command === 'toggle-tabfs') {\n    try {\n      // Get the active tab\n      const [activeTab] = await chrome.tabs.query({\n        active: true,\n        currentWindow: true\n      });\n      \n      if (!activeTab?.id) {\n        console.log('[YT-TabFS Background] No active tab found');\n        return;\n      }\n      \n      // Check if the tab is on YouTube\n      if (!activeTab.url?.includes('youtube.com')) {\n        console.log('[YT-TabFS Background] Not on YouTube, ignoring command');\n        return;\n      }\n      \n      // Send message to content script\n      await chrome.tabs.sendMessage(activeTab.id, {\n        action: 'toggle-tabfs'\n      });\n      \n      console.log('[YT-TabFS Background] Toggle message sent to content script');\n      \n    } catch (error) {\n      console.error('[YT-TabFS Background] Error handling command:', error);\n    }\n  }\n});\n\n// Optional: Handle extension icon click\nchrome.action.onClicked.addListener(async (tab) => {\n  if (tab.id && tab.url?.includes('youtube.com')) {\n    try {\n      await chrome.tabs.sendMessage(tab.id, {\n        action: 'toggle-tabfs'\n      });\n    } catch (error) {\n      console.error('[YT-TabFS Background] Error on icon click:', error);\n    }\n  }\n});\n\nconsole.log('[YT-TabFS Background] Background script loaded'); "],"names":[],"mappings":";;;IAMA,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,OAAe,KAAI;IAC9D,IAAA,OAAO,CAAC,GAAG,CAAC,yCAAyC,EAAE,OAAO,CAAC;IAE/D,IAAA,IAAI,OAAO,KAAK,cAAc,EAAE;IAC9B,QAAA,IAAI;gBAEF,MAAM,CAAC,SAAS,CAAC,GAAG,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IAC1C,gBAAA,MAAM,EAAE,IAAI;IACZ,gBAAA,aAAa,EAAE;IAChB,aAAA,CAAC;IAEF,YAAA,IAAI,CAAC,SAAS,EAAE,EAAE,EAAE;IAClB,gBAAA,OAAO,CAAC,GAAG,CAAC,2CAA2C,CAAC;oBACxD;;gBAIF,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,QAAQ,CAAC,aAAa,CAAC,EAAE;IAC3C,gBAAA,OAAO,CAAC,GAAG,CAAC,wDAAwD,CAAC;oBACrE;;gBAIF,MAAM,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE,EAAE;IAC1C,gBAAA,MAAM,EAAE;IACT,aAAA,CAAC;IAEF,YAAA,OAAO,CAAC,GAAG,CAAC,6DAA6D,CAAC;;YAE1E,OAAO,KAAK,EAAE;IACd,YAAA,OAAO,CAAC,KAAK,CAAC,+CAA+C,EAAE,KAAK,CAAC;;;IAG3E,CAAC,CAAC;IAGF,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,GAAG,KAAI;IAChD,IAAA,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,aAAa,CAAC,EAAE;IAC9C,QAAA,IAAI;gBACF,MAAM,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,EAAE;IACpC,gBAAA,MAAM,EAAE;IACT,aAAA,CAAC;;YACF,OAAO,KAAK,EAAE;IACd,YAAA,OAAO,CAAC,KAAK,CAAC,4CAA4C,EAAE,KAAK,CAAC;;;IAGxE,CAAC,CAAC;IAEF,OAAO,CAAC,GAAG,CAAC,gDAAgD,CAAC;;;;;;"}